.. _csharp-connection-options:

==================
Connection Options
==================

.. facet::
   :name: genre
   :values: reference

.. meta::
   :keywords: connection string, URI, server, Atlas, settings, configure

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. toctree::
   :caption: Specify Connection Options

   Compress Network Traffic </connect/connection-options/network-compression>
   Customize Server Selection </connect/connection-options/server-selection>
   Stable API </connect/connection-options/stable-api>
   Limit Server Execution Time </connect/connection-options/csot>
   Connection Pools </connect/connection-options/connection-pools>
   Connect from AWS Lambda <https://www.mongodb.com/docs/atlas/manage-connections-aws-lambda/>

This section describes the MongoDB connection and authentication options
available in the {+driver-short+}. You can configure your connection using either
the connection URI or a ``MongoClientSettings`` object.

.. _csharp-connection-uri:

------------------------
Using the Connection URI
------------------------

If you pass a connection URI to the ``MongoClient`` constructor, you can include
connection options in the string as ``<name>=<value>`` pairs. In the following example,
the connection URI contains the ``connectTimeoutMS`` option with a value of ``60000``
and the ``tls`` option with a value of ``true``:

.. literalinclude:: /includes/fundamentals/code-examples/connection/LocalConnectionConfig.cs
   :language: csharp
   :dedent:
   :start-after: // start local connection config
   :end-before: // end local connection config

To learn more about the options that you can specify in a connection URI, see
:manual:`</reference/connection-string-options>` in the {+mdb-server+} manual.

.. _csharp-mongo-client-settings:

-----------------------------
Using ``MongoClientSettings``
-----------------------------

You can use a ``MongoClientSettings`` object to configure connection settings in code
rather than in a connection URI. Configuring the connection this way makes it easier to
change settings at runtime, helps you catch errors during compilation, and provides
more configuration options than the connection URI.

To use a ``MongoClientSettings`` object, create an instance of the class, set
its properties, and pass it as an argument to the ``MongoClient`` constructor:

.. literalinclude:: /includes/fundamentals/code-examples/connection/MongoClientSettingsConfig.cs
   :language: csharp
   :dedent:
   :start-after: // start mongo client settings config
   :end-before: // end mongo client settings config

.. _csharp-mongo-url-builder:

---------------------
Using MongoUrlBuilder
---------------------

You can use a ``MongoUrlBuilder`` object to configure connection settings in code
rather than in a connection URI. Configuring the connection this way makes it easier to
change settings at runtime, helps you catch errors during compilation, and provides
more configuration options than the connection URI.

To use a ``MongoUrlBuilder`` object, create an instance of the class, set
its properties, and pass it as an argument to the ``MongoClient`` constructor:

.. literalinclude:: /includes/fundamentals/code-examples/connection/MongoClientSettingsConfig.cs
   :language: csharp
   :dedent:
   :start-after: // start mongo client settings config
   :end-before: // end mongo client settings config

.. tip:: Other MongoUrl Members

   The ``MongoUrl`` class contains other methods and read-only properties that you can
   use to retrieve information about your connection. For a full list, see
   `MongoUrl <{+new-api-root+}/MongoDB.Driver/MongoDB.Driver.MongoUrl.html>`__ in the
   API documentation.

.. _csharp-replica-set-options:

Connection Options
------------------

The following table lists each connection option available in the
``MongoClientSettings`` class, and, if possible, how to achieve the same result in the
connection string. If a ``MongoClientSettings`` property maps to more than one
option in the connection string, the **Connection URI Example** shows all
relevant options.

If you use your connection URI to create a ``MongoUrl`` or ``ConnectionString`` object,
you can use the object's read-only properties to access the values of the connection
options. These properties are listed in the ``MongoUrl`` column of the table.

.. note::

   If you're using a query parameter for a time duration, the value must be in
   milliseconds. For example, to specify 60 seconds, use the value ``60000``. If you're
   using a ``MongoClientSettings`` object for a time duration, use the appropriate
   ``TimeSpan`` value.

Replica Set Options
-------------------

.. tabs::

   .. tab:: MongoClientSettings
      :tabid: mongo-client-settings

      ReplicaSetName
      ~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/replicaSetName.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-replica-set-name
         :end-before: // end-settings-replica-set-name

      DirectConnection
      ~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/directConnection.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-direct-connection
         :end-before: // end-settings-direct-connection

   .. tab:: MongoUrlBuilder
      :tabid: mongo-url-builder

      ReplicaSetName
      ~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/replicaSetName.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-replica-set-name
         :end-before: // end-builder-replica-set-name

      DirectConnection
      ~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/directConnection.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-direct-connection
         :end-before: // end-builder-direct-connection

TLS Options
-----------

.. tabs::

   .. tab:: MongoClientSettings
      :tabid: mongo-client-settings

      AllowInsecureTls
      ~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/allowInsecureTls.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-allow-insecure-tls
         :end-before: // end-settings-allow-insecure-tls

      SslSettings
      ~~~~~~~~~~~

      TLS/SSL options, including client certificates, revocation handling, and
      enabled and disabled TLS/SSL protocols. The default value is ``null``.

      If ``SslSettings.CheckCertificateRevocation`` is set to ``false`` and
      ``AllowInsecureTls`` is set to ``true``, the {+driver-short+} throws
      an exception.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-ssl-settings
         :end-before: // end-settings-ssl-settings

      UseTls
      ~~~~~~

      .. include:: /includes/fundamentals/connection-options/useTls.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-use-tls
         :end-before: // end-settings-use-tls

   .. tab:: MongoUrlBuilder
      :tabid: mongo-url-builder

      AllowInsecureTls
      ~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/allowInsecureTls.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-allow-insecure-tls
         :end-before: // end-builder-allow-insecure-tls

      UseTls
      ~~~~~~

      .. include:: /includes/fundamentals/connection-options/useTls.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-use-tls
         :end-before: // end-builder-use-tls

Timeout Options
---------------

.. tabs::

   .. tab:: MongoClientSettings
      :tabid: mongo-client-settings

      ConnectTimeout
      ~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/connectTimeout.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-connect-timeout
         :end-before: // end-settings-connect-timeout

      SocketTimeout
      ~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/socketTimeout.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-connect-timeout
         :end-before: // end-settings-connect-timeout

   .. tab:: MongoUrlBuilder
      :tabid: mongo-url-builder

      ConnectTimeout
      ~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/connectTimeout.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-connect-timeout
         :end-before: // end-builder-connect-timeout

      SocketTimeout
      ~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/socketTimeout.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-socket-timeout
         :end-before: // end-builder-socket-timeout

Compression Options
-------------------

.. tabs::

   .. tab:: MongoClientSettings
      :tabid: mongo-client-settings

      Compressors
      ~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/compressors.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-compressors
         :end-before: // end-settings-compressors

   .. tab:: MongoUrlBuilder
      :tabid: mongo-url-builder

      Compressors
      ~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/compressors.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-compressors
         :end-before: // end-builder-compressors

Connection Pool Options
-----------------------

.. tabs::

   .. tab:: MongoClientSettings
      :tabid: mongo-client-settings

      MaxConnecting
      ~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/maxConnecting.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-max-connecting
         :end-before: // end-settings-max-connecting

      MaxConnectionIdleTime
      ~~~~~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/maxConnectionIdleTime.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-max-connection-idle-time
         :end-before: // end-settings-max-connection-idle-time

      MaxConnectionLifeTime
      ~~~~~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/maxConnectionLifetime.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-max-connection-life-time
         :end-before: // end-settings-max-connection-life-time

      MaxConnectionPoolSize
      ~~~~~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/maxConnectionPoolSize.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-max-connection-pool-size
         :end-before: // end-settings-max-connection-pool-size

      MinConnectionPoolSize
      ~~~~~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/minConnectionPoolSize.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-min-connection-pool-size
         :end-before: // end-settings-min-connection-pool-size

      WaitQueueTimeout
      ~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/waitQueueTimeout.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-wait-queue-timeout
         :end-before: // end-settings-wait-queue-timeout

   .. tab:: MongoUrlBuilder
      :tabid: mongo-url-builder

      MaxConnecting
      ~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/maxConnecting.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-max-connecting
         :end-before: // end-builder-max-connecting

      MaxConnectionIdleTime
      ~~~~~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/maxConnectionIdleTime.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-max-connection-idle-time
         :end-before: // end-builder-max-connection-idle-time

      MaxConnectionLifeTime
      ~~~~~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/maxConnectionLifetime.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-max-connection-life-time
         :end-before: // end-builder-max-connection-life-time

      MaxConnectionPoolSize
      ~~~~~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/maxConnectionPoolSize.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-max-connection-pool-size
         :end-before: // end-builder-max-connection-pool-size

      MinConnectionPoolSize
      ~~~~~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/minConnectionPoolSize.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-min-connection-pool-size
         :end-before: // end-builder-min-connection-pool-size

      WaitQueueTimeout
      ~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/waitQueueTimeout.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-wait-queue-timeout
         :end-before: // end-builder-wait-queue-timeout

Write Concern Options
---------------------

.. tabs::

   .. tab:: MongoClientSettings
      :tabid: mongo-client-settings

      WriteConcern
      ~~~~~~~~~~~~

      The default write-concern settings, including write timeout and
      journaling, for the client. The default value is ``WriteConcern.Acknowledged``.
      See :ref:`write concern <wc-j>` for more information.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-write-concern
         :end-before: // end-settings-write-concern

Read Concern Options
--------------------

.. tabs::

   .. tab:: MongoClientSettings
      :tabid: mongo-client-settings

      ReadConcern
      ~~~~~~~~~~~

      The client's read concern. The default value is ``ReadConcern.Default``.
      For more information, see :ref:`read concern <read-concern>`.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-read-concern
         :end-before: // end-settings-read-concern

   .. tab:: MongoUrlBuilder
      :tabid: mongo-url-builder

      ReadConcernLevel
      ~~~~~~~~~~~~~~~~

      The client's read concern level. The default value is ``ReadConcern.Local``.
      For more information, see :ref:`read concern <read-concern>`.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-read-concern-level
         :end-before: // end-builder-read-concern-level

Read Preference Options
-----------------------

.. tabs::

   .. tab:: MongoClientSettings
      :tabid: mongo-client-settings

      ReadPreference
      ~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/readPreference.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-read-preference
         :end-before: // end-settings-read-preference

   .. tab:: MongoUrlBuilder
      :tabid: mongo-url-builder

      .. include:: /includes/fundamentals/connection-options/readPreference.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-read-preference
         :end-before: // end-builder-read-preference

Authentication Options
----------------------

.. tabs::

   .. tab:: MongoClientSettings
      :tabid: mongo-client-settings

      Credential
      ~~~~~~~~~~

      Settings for how the driver authenticates to the server. This includes
      authentication credentials, mechanism, source, and other settings. The default
      value is ``null``.

      f you don't specify an authentication mechanism, the driver uses either
      ``SCRAM-SHA-1`` or ``SCRAM-SHA-256``, depending on the server version. See
      :ref:`authentication mechanisms <csharp-authentication-mechanisms>` for available
      authentication mechanisms.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-credential
         :end-before: // end-settings-credential

   .. tab:: MongoUrlBuilder
      :tabid: mongo-url-builder

      AuthenticationMechanism
      ~~~~~~~~~~~~~~~~~~~~~~~

      The mechanism that the driver uses to authenticate to {+mdb-server+}.
      If you don't specify an authentication mechanism, the driver uses either
      ``SCRAM-SHA-1`` or ``SCRAM-SHA-256``, depending on the server version. See
      :ref:`authentication mechanisms <csharp-authentication-mechanisms>` for available
      authentication mechanisms.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-authentication
         :end-before: // end-builder-authentication
         :emphasize-lines: 3

      AuthenticationMechanismProperties
      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

      Configuration settings for the authentication mechanism specified in the
      ``AuthenticationMechanism`` property.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-authentication
         :end-before: // end-builder-authentication
         :emphasize-lines: 4-8

      AuthenticationSource
      ~~~~~~~~~~~~~~~~~~~~

      The source to authenticate the client against.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-authentication
         :end-before: // end-builder-authentication
         :emphasize-lines: 9

Server Selection and Discovery Options
--------------------------------------

.. tabs::

   .. tab:: MongoClientSettings
      :tabid: mongo-client-settings

      HeartbeatInterval
      ~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/heartbeatInterval.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-heartbeat-interval
         :end-before: // end-settings-heartbeat-interval

      HeartbeatTimeout
      ~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/heartbeatTimeout.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-heartbeat-timeout
         :end-before: // end-settings-heartbeat-timeout

      LocalThreshold
      ~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/localThreshold.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-local-threshold
         :end-before: // end-settings-local-threshold

      ServerSelectionTimeout
      ~~~~~~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/localThreshold.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-server-selection-timeout
         :end-before: // end-settings-server-selection-timeout

   .. tab:: MongoUrlBuilder
      :tabid: mongo-url-builder

      HeartbeatInterval
      ~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/heartbeatInterval.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-heartbeat-interval
         :end-before: // end-builder-heartbeat-interval

      HeartbeatTimeout
      ~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/heartbeatTimeout.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-heartbeat-timeout
         :end-before: // end-builder-heartbeat-timeout

      LocalThreshold
      ~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/localThreshold.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-local-threshold
         :end-before: // end-builder-local-threshold

      ServerSelectionTimeout
      ~~~~~~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/localThreshold.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-server-selection-timeout
         :end-before: // end-builder-server-selection-timeout

Miscellaneous Options
---------------------

.. tabs::

   .. tab:: MongoClientSettings
      :tabid: mongo-client-settings

      ApplicationName
      ~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/applicationName.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-application-name
         :end-before: // end-settings-application-name

      AutoEncryptionOptions
      ~~~~~~~~~~~~~~~~~~~~~

      Settings for automatic client-side encryption. The default value is ``null``.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-auto-encryption-options
         :end-before: // end-settings-auto-encryption-options

      ClusterConfigurator
      ~~~~~~~~~~~~~~~~~~~

      Low-level configuration options for sockets, TLS, cluster, and others. The default
      value is ``null``.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-cluster-configurator
         :end-before: // end-settings-cluster-configurator

      IPv6
      ~~~~

      .. include:: /includes/fundamentals/connection-options/ipv6.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-ipv6
         :end-before: // end-settings-ipv6

      IsFrozen
      ~~~~~~~~

      Indicates whether the settings have been frozen. Frozen settings can't be changed.
      This option is read-only. The default value is ``false``.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-is-frozen
         :end-before: // end-settings-is-frozen

      LoadBalanced
      ~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/loadBalanced.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-load-balanced
         :end-before: // end-settings-load-balanced

      LoggingSettings
      ~~~~~~~~~~~~~~~

      The settings used for :ref:`logging. <csharp-logging>` The default value is ``null``.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-logging-settings
         :end-before: // end-settings-logging-settings

      ReadEncoding
      ~~~~~~~~~~~~

      The UTF-8 encoding to use for string deserialization. The default value is
      strict encoding, where the driver throws an exception when it encounters an invalid
      UTF-8 byte sequence.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-read-encoding
         :end-before: // end-settings-read-encoding

      RetryReads
      ~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/retryReads.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-retry-reads
         :end-before: // end-settings-retry-reads

      RetryWrites
      ~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/retryWrites.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-retry-writes
         :end-before: // end-settings-retry-writes

      Scheme
      ~~~~~~

      .. include:: /includes/fundamentals/connection-options/scheme.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-scheme
         :end-before: // end-settings-scheme

      Server
      ~~~~~~

      .. include:: /includes/fundamentals/connection-options/server.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-server
         :end-before: // end-settings-server

      ServerApi
      ~~~~~~~~~

      Allows opting into Stable API versioning. The default value is ``null``. See
      :manual:`the MongoDB Manual</reference/stable-api>` for more information about
      Stable API versioning.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-server-api
         :end-before: // end-settings-server-api

      ServerMonitoringMode
      ~~~~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/serverMonitoringMode.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-server-monitoring-mode
         :end-before: // end-settings-server-monitoring-mode

      Servers
      ~~~~~~~

      .. include:: /includes/fundamentals/connection-options/servers.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-servers
         :end-before: // end-settings-servers

      SrvMaxHosts
      ~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/srvMaxHosts.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-srv-max-hosts
         :end-before: // end-settings-srv-max-hosts

      TranslationOptions
      ~~~~~~~~~~~~~~~~~~

      Specifies options, such as the {+mdb-server+} version, for translating LINQ
      queries to the Query API. The default value is ``null``.

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-settings-translation-options
         :end-before: // end-settings-translation-options

   .. tab:: MongoUrlBuilder
      :tabid: mongo-url-builder

      ApplicationName
      ~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/applicationName.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-application-name
         :end-before: // end-builder-application-name

      IPv6
      ~~~~

      .. include:: /includes/fundamentals/connection-options/ipv6.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-ipv6
         :end-before: // end-builder-ipv6

      LoadBalanced
      ~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/loadBalanced.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-load-balanced
         :end-before: // end-builder-load-balanced

      RetryReads
      ~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/retryReads.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-retry-reads
         :end-before: // end-builder-retry-reads

      RetryWrites
      ~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/retryWrites.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-retry-writes
         :end-before: // end-builder-retry-writes

      Scheme
      ~~~~~~

      .. include:: /includes/fundamentals/connection-options/scheme.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-scheme
         :end-before: // end-builder-scheme

      Server
      ~~~~~~

      .. include:: /includes/fundamentals/connection-options/server.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-server
         :end-before: // end-builder-server

      ServerMonitoringMode
      ~~~~~~~~~~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/serverMonitoringMode.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-server-monitoring-mode
         :end-before: // end-builder-server-monitoring-mode

      Servers
      ~~~~~~~

      .. include:: /includes/fundamentals/connection-options/servers.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-servers
         :end-before: // end-builder-servers

      SrvMaxHosts
      ~~~~~~~~~~~

      .. include:: /includes/fundamentals/connection-options/srvMaxHosts.rst

      .. literalinclude:: /includes/fundamentals/code-examples/connection/ConnectionOptions.cs
         :language: csharp
         :copyable: true
         :dedent: 8
         :start-after: // start-builder-srv-max-hosts
         :end-before: // end-builder-srv-max-hosts
